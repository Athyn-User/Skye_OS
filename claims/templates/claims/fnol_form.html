<!-- claims/templates/claims/fnol_form.html -->
{% extends 'base.html' %}

{% block title %}First Notice of Loss - Skye OS{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h2 class="mb-4">First Notice of Loss (FNOL)</h2>
        
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'applications:dashboard' %}">Home</a></li>
                <li class="breadcrumb-item"><a href="{% url 'claims:dashboard' %}">Claims</a></li>
                <li class="breadcrumb-item active">New Claim</li>
            </ol>
        </nav>
        
        <form method="post">
            {% csrf_token %}
            
            <!-- Policy Information -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Policy Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.quote.id_for_label }}" class="form-label">Quote/Policy*</label>
                                {{ form.quote }}
                                {% if form.quote.errors %}
                                    <div class="text-danger">{{ form.quote.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.certificate.id_for_label }}" class="form-label">Certificate (Optional)</label>
                                {{ form.certificate }}
                                {% if form.certificate.errors %}
                                    <div class="text-danger">{{ form.certificate.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Claim Details -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Claim Details</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.claim_type.id_for_label }}" class="form-label">Claim Type*</label>
                                {{ form.claim_type }}
                                {% if form.claim_type.errors %}
                                    <div class="text-danger">{{ form.claim_type.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.severity.id_for_label }}" class="form-label">Severity*</label>
                                {{ form.severity }}
                                {% if form.severity.errors %}
                                    <div class="text-danger">{{ form.severity.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Claimant Information -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Claimant Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.claimant_name.id_for_label }}" class="form-label">Claimant Name*</label>
                                {{ form.claimant_name }}
                                {% if form.claimant_name.errors %}
                                    <div class="text-danger">{{ form.claimant_name.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.claimant_phone.id_for_label }}" class="form-label">Phone*</label>
                                {{ form.claimant_phone }}
                                {% if form.claimant_phone.errors %}
                                    <div class="text-danger">{{ form.claimant_phone.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.claimant_email.id_for_label }}" class="form-label">Email*</label>
                                {{ form.claimant_email }}
                                {% if form.claimant_email.errors %}
                                    <div class="text-danger">{{ form.claimant_email.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <div class="form-check mt-4">
                                    {{ form.is_insured }}
                                    <label class="form-check-label" for="{{ form.is_insured.id_for_label }}">
                                        Claimant is the insured party
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label for="{{ form.claimant_address.id_for_label }}" class="form-label">Address*</label>
                                {{ form.claimant_address }}
                                {% if form.claimant_address.errors %}
                                    <div class="text-danger">{{ form.claimant_address.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Loss Information -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Loss Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.date_of_loss.id_for_label }}" class="form-label">Date of Loss*</label>
                                {{ form.date_of_loss }}
                                {% if form.date_of_loss.errors %}
                                    <div class="text-danger">{{ form.date_of_loss.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.time_of_loss.id_for_label }}" class="form-label">Time of Loss</label>
                                {{ form.time_of_loss }}
                                {% if form.time_of_loss.errors %}
                                    <div class="text-danger">{{ form.time_of_loss.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label for="{{ form.location_of_loss.id_for_label }}" class="form-label">Location of Loss*</label>
                                {{ form.location_of_loss }}
                                {% if form.location_of_loss.errors %}
                                    <div class="text-danger">{{ form.location_of_loss.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label for="{{ form.cause_of_loss.id_for_label }}" class="form-label">Cause of Loss*</label>
                                {{ form.cause_of_loss }}
                                {% if form.cause_of_loss.errors %}
                                    <div class="text-danger">{{ form.cause_of_loss.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="mb-3">
                                <label for="{{ form.loss_description.id_for_label }}" class="form-label">Description of Loss*</label>
                                {{ form.loss_description }}
                                {% if form.loss_description.errors %}
                                    <div class="text-danger">{{ form.loss_description.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Financial Information -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Financial Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="{{ form.estimated_loss.id_for_label }}" class="form-label">Estimated Loss Amount*</label>
                                {{ form.estimated_loss }}
                                {% if form.estimated_loss.errors %}
                                    <div class="text-danger">{{ form.estimated_loss.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="{{ form.deductible.id_for_label }}" class="form-label">Deductible</label>
                                {{ form.deductible }}
                                {% if form.deductible.errors %}
                                    <div class="text-danger">{{ form.deductible.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="{{ form.initial_reserve.id_for_label }}" class="form-label">Initial Reserve</label>
                                {{ form.initial_reserve }}
                                <small class="form-text text-muted">Optional: Set an initial reserve amount</small>
                                {% if form.initial_reserve.errors %}
                                    <div class="text-danger">{{ form.initial_reserve.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional Information -->
            <div class="card mb-3">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0">Additional Information</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="{{ form.police_report_number.id_for_label }}" class="form-label">Police Report Number</label>
                                {{ form.police_report_number }}
                                {% if form.police_report_number.errors %}
                                    <div class="text-danger">{{ form.police_report_number.errors }}</div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3 mt-4">
                                <div class="form-check form-check-inline">
                                    {{ form.injuries_reported }}
                                    <label class="form-check-label" for="{{ form.injuries_reported.id_for_label }}">
                                        Injuries Reported
                                    </label>
                                </div>
                                <div class="form-check form-check-inline">
                                    {{ form.property_damage }}
                                    <label class="form-check-label" for="{{ form.property_damage.id_for_label }}">
                                        Property Damage
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <div class="form-check">
                                    {{ form.subrogation_possible }}
                                    <label class="form-check-label" for="{{ form.subrogation_possible.id_for_label }}">
                                        Subrogation Possible
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <div class="form-check">
                                    {{ form.litigation_pending }}
                                    <label class="form-check-label" for="{{ form.litigation_pending.id_for_label }}">
                                        Litigation Pending
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Form Actions -->
            <div class="row mt-4">
                <div class="col-12">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Submit Claim
                    </button>
                    <a href="{% url 'claims:dashboard' %}" class="btn btn-secondary">
                        <i class="fas fa-times"></i> Cancel
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}